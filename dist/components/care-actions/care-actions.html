
<div class="care-display" id="care-display">
  <div class="care-actions">
    <div class="toggle-content is-visible" id="care-actions">
      <!-- Base panel - white background-->
      <!-- Roles would have to be added dynamically based on location of component in layout-->
      <div class="panel">
        <h3>Get Care</h3>
        <ul class="care-actions-primary-list">
          <li class="care-actions-primary-list--flex care-actions-primary-list--flex--33" onclick="primaryCard(0)">
            <button class="care-actions-primary-list--item">
              <div class="care-actions-primary-list--item-image"><img src="assets/images/online-care.png" alt=""/></div>
              <div class="care-actions-primary-list--item-content">
                <p class="care-actions-primary-list--item-title">Online Care</p>
                <p class="care-actions-primary-list--item-description">Get quality care faster.</p>
              </div>
            </button>
          </li>
          <li class="care-actions-primary-list--flex care-actions-primary-list--flex--33" onclick="primaryCard(1)">
            <button class="care-actions-primary-list--item">
              <div class="care-actions-primary-list--item-image"><img src="assets/images/call-care.png" alt=""/></div>
              <div class="care-actions-primary-list--item-content">
                <p class="care-actions-primary-list--item-title">Call for Care</p>
                <p class="care-actions-primary-list--item-description">Talk with a licensed care provider by phone.</p>
              </div>
            </button>
          </li>
          <li class="care-actions-primary-list--flex care-actions-primary-list--flex--33" onclick="primaryCard(2)">
            <button class="care-actions-primary-list--item">
              <div class="care-actions-primary-list--item-image"><img src="assets/images/person-care.png" alt=""/></div>
              <div class="care-actions-primary-list--item-content">
                <p class="care-actions-primary-list--item-title">In-Person Care</p>
                <p class="care-actions-primary-list--item-description">Make an appointment or find care locations.</p>
              </div>
            </button>
          </li>
        </ul>
        <ul class="care-actions-secondary-list" id="hidden-group-0">
          <li>
            <button class="care-actions-secondary-list-button" role="link">COVID-19: Get Care &amp; Testing</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Women’s Health</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Cold &amp; Flu, Cough, Sore Throat, Sinus</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Skin Problems / Conditions</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Women’s Health</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Cold &amp; Flu, Cough, Sore Throat, Sinus</button>
          </li>
          <li>
            <button class="care-actions-secondary-list-button" role="link">Skin Problems / Conditions</button>
          </li>
        </ul>
        <button class="view-toggle" aria-expanded="false" type="button">View all care actions (10)</button>
      </div>
    </div>
  </div>
  <div class="primary-card-content" id="primary-card-content">
    <h1 class="greeting greeting-mobile" id="greeting-mobile">What kind of care do you need?</h1>
    <div class="primary-card-content-modal" id="primary-card-modal">
      <div class="primary-card-content-0 display-none" id="primary-card-content-0">
        <!-- Base panel - white background-->
        <!-- Roles would have to be added dynamically based on location of component in layout-->
        <div class="panel">
          <div class="panel-height">
            <div class="close"><img src="assets/images/close.png" alt="" onclick="closePrimaryCardContent(0)"/></div>
            <h3>Online Care</h3>
          </div>
        </div>
      </div>
      <div class="primary-card-content-1 display-none" id="primary-card-content-1">
        <!-- Base panel - white background-->
        <!-- Roles would have to be added dynamically based on location of component in layout-->
        <div class="panel">
          <div class="panel-height">
            <div class="close"><img src="assets/images/close.png" alt="" onclick="closePrimaryCardContent(1)"/></div>
            <h3>Call for Care</h3>
          </div>
        </div>
      </div>
      <div class="primary-card-content-2 display-none" id="primary-card-content-2">
        <!-- Base panel - white background-->
        <!-- Roles would have to be added dynamically based on location of component in layout-->
        <div class="panel">
          <div class="panel-height">
            <div class="close"><img src="assets/images/close.png" alt="" onclick="closePrimaryCardContent(2)"/></div>
            <h3>In-Person Care</h3>
          </div>
        </div>
      </div>
    </div>
    <script>
      function closePrimaryCardContent(id)
      {
        careDisplay.classList.remove("care-display-animation-in");
        careDisplay.classList.add("care-display-animation-out");
        
        var clickCard = document.getElementById(`primary-card-content-${id}`);
      
        // Get the natural height of the element
        var getHeight = function () {
          careActions.style.display = 'block'; // Make it visible
          var height = careActions.scrollHeight + 'px'; // Get it's height
          careActions.style.display = ''; //  Hide it again
          return height;
        };
      
        var height = getHeight(); // Get the natural height
        careActions.classList.add('is-visible'); // Make the element visible
        careActions.style.height = height; // Update the max-height
      
        // Once the transition is complete, remove the inline max-height so the content can scale responsively
        window.setTimeout(function () {
          careActions.style.height = '';
          document.getElementById("greeting").textContent = "Hi Jaeroine, how can we help you?";
        }, 400);
      
        // when mobile
        primaryModal.classList.add("primary-card-content-modal-out");
        window.setTimeout(function () {
          primaryContent.classList.add("primary-card-content--animation-out");
          primaryContent.style.display = "none";
          clickCard.classList.add("display-none");
        }, 400);
        document.getElementById("greeting-mobile").classList.add("greeting-mobile--opacity-animation-out");
        container.classList.remove("container-primary-content-mobile");
      }
    </script>
  </div>
  <script>
    var careDisplay = document.getElementById("care-display");
    var careActions = document.getElementById("care-actions");
    var primaryContent = document.getElementById("primary-card-content");
    var primaryModal = document.getElementById("primary-card-modal");
    var container = document.getElementById("container");
    
    function primaryCard(clicked_id)
    {
      if(window.innerWidth >= 834) {
        careDisplay.classList.add("care-display-animation-in");
        careDisplay.classList.remove("care-display-animation-out");
        
        document.getElementById("greeting").textContent = "What kind of care do you need?";
    
        careActions.style.height = careActions.scrollHeight + 'px';
        window.setTimeout(function () {
          careActions.style.height = '0';
        }, 1);
        window.setTimeout(function () {
          careActions.classList.remove('is-visible');
        }, 400);
      }
    
      primaryContent.style.display = "block";
      primaryContent.classList.remove("primary-card-content--animation-out");
      var clickCard = document.getElementById(`primary-card-content-${clicked_id}`);
      clickCard.classList.remove("display-none");
      primaryModal.classList.remove("primary-card-content-modal-out");
      // when mobile size
      document.getElementById("greeting-mobile").classList.remove("greeting-mobile--opacity-animation-out");
      container.classList.add("container-primary-content-mobile");
    }
  </script>
</div>